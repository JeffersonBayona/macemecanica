<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>MACE</title>
        <link rel="icon" type="img/png" href="resources/img/Icono_MACE/hol.png"></link>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"></link>
        <link rel="stylesheet" href="resources/css/normalize.css"></link>
        <link rel="stylesheet" href="resources/css/sweetalert2.css"></link>
        <link rel="stylesheet" href="resources/css/material.min.css"></link>
        <link rel="stylesheet" href="resources/css/material-design-iconic-font.min.css"></link>
        <link rel="stylesheet" href="resources/css/jquery.mCustomScrollbar.css"></link>
        <link rel="stylesheet" href="resources/css/main.css"></link>
    </h:head>
    <h:body>
        <h:form>
            <p:remoteCommand name="deleteRegister" actionListener="#{inventory.delete()}"></p:remoteCommand>
        </h:form>
        <!-- Notifications area -->
        <section class="full-width container-notifications">
            <div class="full-width container-notifications-bg btn-Notification"></div>
            <section class="NotificationArea">
                <div class="full-width text-center NotificationArea-title tittles">Notificaciones <i class="zmdi zmdi-close btn-Notification"></i></div>
                <a href="#" class="Notification" id="notifation-unread-1">
                    <div class="Notification-icon"><i class="zmdi zmdi-accounts-alt bg-info"></i></div>
                    <div class="Notification-text">
                        <p>
                            <i class="zmdi zmdi-circle"></i>
                            <strong>New User Registration</strong> 
                            <br></br>
                            <small>Just Now</small>
                        </p>
                    </div>
                    <div class="mdl-tooltip mdl-tooltip--left" for="notifation-unread-1">Notification as UnRead</div> 
                </a>
                <a href="#" class="Notification" id="notifation-read-1">
                    <div class="Notification-icon"><i class="zmdi zmdi-cloud-download bg-primary"></i></div>
                    <div class="Notification-text">
                        <p>
                            <i class="zmdi zmdi-circle-o"></i>
                            <strong>New Updates</strong> 
                            <br></br>
                            <small>30 Mins Ago</small>
                        </p>
                    </div>
                    <div class="mdl-tooltip mdl-tooltip--left" for="notifation-read-1">Notification as Read</div>
                </a>
                <a href="#" class="Notification" id="notifation-unread-2">
                    <div class="Notification-icon"><i class="zmdi zmdi-upload bg-success"></i></div>
                    <div class="Notification-text">
                        <p>
                            <i class="zmdi zmdi-circle"></i>
                            <strong>Archive uploaded</strong> 
                            <br></br>
                            <small>31 Mins Ago</small>
                        </p>
                    </div>
                    <div class="mdl-tooltip mdl-tooltip--left" for="notifation-unread-2">Notification as UnRead</div>
                </a> 
                <a href="#" class="Notification" id="notifation-read-2">
                    <div class="Notification-icon"><i class="zmdi zmdi-mail-send bg-danger"></i></div>
                    <div class="Notification-text">
                        <p>
                            <i class="zmdi zmdi-circle-o"></i>
                            <strong>New Mail</strong> 
                            <br></br>
                            <small>37 Mins Ago</small>
                        </p>
                    </div>
                    <div class="mdl-tooltip mdl-tooltip--left" for="notifation-read-2">Notification as Read</div>
                </a>
                <a href="#" class="Notification" id="notifation-read-3">
                    <div class="Notification-icon"><i class="zmdi zmdi-folder bg-primary"></i></div>
                    <div class="Notification-text">
                        <p>
                            <i class="zmdi zmdi-circle-o"></i>
                            <strong>Folder delete</strong> 
                            <br></br>
                            <small>1 hours Ago</small>
                        </p>
                    </div>
                    <div class="mdl-tooltip mdl-tooltip--left" for="notifation-read-3">Notification as Read</div>
                </a>  
            </section>
        </section>
        <!-- navBar -->
        <div class="full-width navBar">
            <div class="full-width navBar-options">
                <i class="zmdi zmdi-more-vert btn-menu" id="btn-menu"></i>	
                <div class="mdl-tooltip" for="btn-menu">Menu</div>
                <nav class="navBar-options-list">
                    <ul class="list-unstyle">
                        <li class="btn-Notification" id="notifications">
                            <i class="zmdi zmdi-notifications"></i>
                            <!-- <i class="zmdi zmdi-notifications-active btn-Notification" id="notifications"></i> -->
                            <div class="mdl-tooltip" for="notifications">Notificaciones</div>
                        </li>
                        <li class="btn-exit" id="btn-exit">
                            <i class="zmdi zmdi-power"></i>
                            <div class="mdl-tooltip" for="btn-exit">Salir</div>
                        </li>
                        <li class="noLink">
                            <figure>
                                <img src="resources/assets/img/avatar-male.png" alt="Avatar" class="img-responsive"></img>
                            </figure>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <!-- navLateral -->
        <section class="full-width navLateral">
            <div class="full-width navLateral-bg btn-menu"></div>
            <div class="full-width navLateral-body">
                <div class="full-width navLateral-body-logo text-center tittles">
                    <i class="zmdi zmdi-close btn-menu"></i> MACE
                </div>
                <figure class="full-width" style="height: 77px;">
                    <div class="navLateral-body-cl">
                        <img src="resources/img/Icono_MACE/My project.png" alt="Avatar" class="img-responsive"></img>
                    </div>
                    <figcaption class="navLateral-body-cr hide-on-tablet">
                        <span>
                            VegAutos<br></br>
                            <small>Admin</small>
                        </span>
                    </figcaption>
                </figure>
                <div class="full-width tittles navLateral-body-tittle-menu">
                    <i class="zmdi zmdi-desktop-mac"></i><span class="hide-on-tablet">&nbsp; MENU</span>
                </div>
                <nav class="full-width">
                    <ul class="full-width list-unstyle menu-principal">
                        <li class="full-width">
                            <a href="home.xhtml" class="full-width">
                                <div class="navLateral-body-cl">
                                    <i class="zmdi zmdi-view-dashboard"></i>
                                </div>
                                <div class="navLateral-body-cr hide-on-tablet">
                                    INICIO
                                </div>
                            </a>
                        </li>
                        <li class="full-width divider-menu-h"></li>
                        <li class="full-width">
                            <a href="#!" class="full-width btn-subMenu">
                                <div class="navLateral-body-cl">
                                    <i class="zmdi zmdi-case"></i>
                                </div>
                                <div class="navLateral-body-cr hide-on-tablet">
                                    ADMINISTRACIÓN
                                </div>
                                <span class="zmdi zmdi-chevron-left"></span>
                            </a>
                            <ul class="full-width menu-principal sub-menu-options">
                                <li class="full-width">
                                    <a href="company.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class="zmdi zmdi-balance"></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            EMPRESA
                                        </div>
                                    </a>
                                </li>
                                <li class="full-width">
                                    <a href="providers.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class="zmdi zmdi-truck"></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            PROVEEDORES
                                        </div>
                                    </a>
                                </li>
                                <li class="full-width">
                                    <a href="payments.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class="zmdi zmdi-card"></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            PAGOS
                                        </div>
                                    </a>
                                </li>
                                <li class="full-width">
                                    <a href="categories.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class="zmdi zmdi-label"></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            CATEGORIAS
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="full-width divider-menu-h"></li>
                        <li class="full-width">
                            <a href="#!" class="full-width btn-subMenu">
                                <div class="navLateral-body-cl">
                                    <i class="zmdi zmdi-face"></i>
                                </div>
                                <div class="navLateral-body-cr hide-on-tablet">
                                    USUARIOS
                                </div>
                                <span class="zmdi zmdi-chevron-left"></span>
                            </a>
                            <ul class="full-width menu-principal sub-menu-options">
                                <li class="full-width">
                                    <a href="admin.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class="zmdi zmdi-account"></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            COLABORADORES
                                        </div>
                                    </a>
                                </li>
                                <li class="full-width">
                                    <a href="client.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class="zmdi zmdi-accounts"></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            CLIENTES
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="full-width divider-menu-h"></li>
                        <li class="full-width">
                            <a href="products.xhtml" class="full-width">
                                <div class="navLateral-body-cl">
                                    <i class="zmdi zmdi-washing-machine"></i>
                                </div>
                                <div class="navLateral-body-cr hide-on-tablet">
                                    PRODUCTOS
                                </div>
                            </a>
                        </li>
                        <li class="full-width divider-menu-h"></li>
                        <li class="full-width">
                            <a href="#!" class="full-width btn-subMenu">
                                <div class="navLateral-body-cl">
                                    <i class="zmdi zmdi-shopping-cart"></i>
                                </div>
                                <div class="navLateral-body-cr hide-on-tablet">
                                    VENTAS
                                </div>
                                <span class="zmdi zmdi-chevron-left"></span>
                            </a>
                            <ul class="full-width menu-principal sub-menu-options">
                                <li class="full-width">
                                    <a href="registVenta.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class='bx bx-dollar'></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            REGISTRAR VENTA
                                        </div>
                                    </a>
                                </li>
                                <li class="full-width">
                                    <a href="sales.xhtml" class="full-width">
                                        <div class="navLateral-body-cl">
                                            <i class='bx bx-detail'></i>
                                        </div>
                                        <div class="navLateral-body-cr hide-on-tablet">
                                            HISTORIAL DE VENTAS
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </li>	
                        <li class="full-width divider-menu-h"></li>
                        <li class="full-width">
                            <a href="inventory.xhtml" class="full-width">
                                <div class="navLateral-body-cl">
                                    <i class="zmdi zmdi-store"></i>
                                </div>
                                <div class="navLateral-body-cr hide-on-tablet">
                                    INVENTARIO
                                </div>
                            </a>
                        </li>
                        <li class="full-width divider-menu-h"></li>
                        <li class="full-width">
                            <a href="configuracion.xhtml" class="full-width">
                                <div class="navLateral-body-cl">
                                    <i class="zmdi zmdi-wrench"></i>
                                </div>
                                <div class="navLateral-body-cr hide-on-tablet">
                                    CONFIGURACIÓN
                                </div>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </section>
        <!-- pageContent -->
        <section class="full-width pageContent">
            <section class="full-width header-well">
                <div class="full-width header-well-icon">
                    <i class="zmdi zmdi-washing-machine"></i>
                </div>
                <div class="full-width header-well-text">
                    <p class="text-condensedLight">
                        En este espacio puedes Agregar productos nuevos y consultar la lista de los existentes.
                    </p>
                </div>
            </section>
            <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                <div class="mdl-tabs__tab-bar">
                    <a href="#tabNewProduct" class="mdl-tabs__tab is-active">NUEVO</a>
                    <a href="#tabListProducts" class="mdl-tabs__tab">LISTA</a>
                </div>
                <div class="mdl-tabs__panel is-active" id="tabNewProduct">
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--4-col-phone mdl-cell--8-col-tablet mdl-cell--12-col-desktop">
                            <div class="full-width panel mdl-shadow--2dp">
                                <div class="full-width panel-tittle bg-primary text-center tittles">
                                    Producto nuevo
                                </div>
                                <div class="full-width panel-content">
                                    <h:form>
                                        <div class="mdl-grid">
                                            <div
                                                class="mdl-cell mdl-cell--4-col-phone mdl-cell--8-col-tablet mdl-cell--6-col-desktop">
                                                <h5 class="text-condensedLight">Información básica</h5>
                                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                                    <h:inputText value="#{inventory.productos.codProducto}" class="mdl-textfield__input" id="BarCode"></h:inputText>
                                                    <label class="mdl-textfield__label" for="BarCode">Código de
                                                        barras</label>
                                                    <span class="mdl-textfield__error">Invalid barcode</span>
                                                </div>
                                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                                    <h:inputText value="#{inventory.productos.nombreProducto}" class="mdl-textfield__input" id="NameProduct"></h:inputText>
                                                    <label class="mdl-textfield__label" for="NameProduct">Nombre</label>
                                                    <span class="mdl-textfield__error">Invalid name</span>
                                                </div>
                                                <div class="mdl-textfield mdl-js-textfield">
                                                    <h:selectOneMenu class="form-select" value="#{inventory.categoriaselect}" converter="#{Integer}">
                                                        <label>Seleccione una categoría</label>
                                                        <f:selectItems var="c" itemLabel="#{c.nomCategoria}" itemValue="#{c.idcategoria}" value="#{inventory.getAllCategoria()}" ></f:selectItems>
                                                    </h:selectOneMenu>
                                                </div>
                                                <h5 class="text-condensedLight">Unidades y precio
                                                </h5>
                                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                                    <h:inputText value="#{inventory.productos.stock}" class="mdl-textfield__input" id="StrockProduct"></h:inputText>
                                                    <label class="mdl-textfield__label" for="StrockProduct">Unidades</label>
                                                    <span class="mdl-textfield__error">Invalid number</span>
                                                </div>
                                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                                    <h:inputText value="#{inventory.productos.valorProducto}" class="mdl-textfield__input" id="PriceProduct"></h:inputText>
                                                    <label class="mdl-textfield__label" for="PriceProduct">Precio</label>
                                                    <span class="mdl-textfield__error">Invalid price</span>
                                                </div>
                                            </div>
                                            <div
                                                class="mdl-cell mdl-cell--4-col-phone mdl-cell--8-col-tablet mdl-cell--6-col-desktop">
                                                <h5 class="text-condensedLight">Datos y modelo del proveedor</h5>

                                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                                    <h:inputText value="#{inventory.productos.referencia}" class="mdl-textfield__input" id="markProduct"></h:inputText>
                                                    <label class="mdl-textfield__label" for="markProduct">Referencia</label>
                                                    <span class="mdl-textfield__error">Invalid Mark</span>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="text-center">
                                            <h:commandButton action="#{inventory.save()}" class="btn btn-outline-success" value="Guardar"></h:commandButton>
                                            <h:commandButton action="#{inventory.clear()}" class="btn btn-outline-info" value="Limpiar"></h:commandButton>
                                        </p>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mdl-tabs__panel" id="tabListProducts">
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--4-col-phone mdl-cell--8-col-tablet mdl-cell--12-col-desktop">
                            <form action="#">
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
                                    <label class="mdl-button mdl-js-button mdl-button--icon" for="searchProduct">
                                        <i class="zmdi zmdi-search"></i>
                                    </label>
                                    <div class="mdl-textfield__expandable-holder">
                                        <input class="mdl-textfield__input" type="text" id="searchProduct"></input>
                                        <label class="mdl-textfield__label"></label>
                                    </div>
                                </div>
                            </form>
                            <div class="full-width divider-menu-h"></div>
                            <div class="mdl-grid">
                                <div class="mdl-cell mdl-cell--4-col-phone mdl-cell--8-col-tablet mdl-cell--12-col-desktop">
                                    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp full-width table-responsive">
                                        <h:dataTable class="mdl-data-table mdl-js-data-table mdl-shadow--2dp full-width table-responsive" value="#{inventory.findAll()}" var="inventario">
                                            <h:column>
                                                <f:facet name="header">ID</f:facet>
                                                <span>#{inventario.idproductos}</span>
                                            </h:column><h:column>
                                                <f:facet name="header">Producto</f:facet>
                                                <span>#{inventario.nombreProducto}</span>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">Referencia</f:facet>
                                                <span>#{inventario.referencia}</span>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">Stock</f:facet>
                                                <span>#{inventario.stock}</span>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">Precio</f:facet>
                                                <span>#{inventario.valorProducto}</span>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">Opciones</f:facet>
                                                <h:form>
                                                    <div class="btn-group">
                                                        <div>
                                                            <h:commandButton action="#{inventory.update(inventario)}" value="Actualizar" class="btn btn-outline-primary btn-sm"></h:commandButton>
                                                        </div>
                                                        <div>
                                                            <button type="button" onclick="deleteRegisterProducto(#{inventario.idproductos})" class="btn btn-outline-danger btn-sm">Eliminar</button>
                                                        </div>
                                                    </div>
                                                </h:form>
                                            </h:column>
                                        </h:dataTable>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="footer">
                <div class="container-footer">
                    <div class="text-center">
                        Copyright © 2023 MACE.co
                    </div>
                </div>
            </footer>
        </section>
        <script src="resources/js/material.min.js" ></script>  
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="resources/js/jquery.mCustomScrollbar.concat.min.js" ></script>
        <script src="resources/js/main.js" ></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
        <script>
                                                            function deleteRegisterProducto(productosId) {
                                                                swal.fire({
                                                                    title: '¿Desea continuar?',
                                                                    text: "¡No podrás revertir esto!",
                                                                    icon: 'warning',
                                                                    showCancelButton: true,
                                                                    confirmButtonColor: '#3085d6',
                                                                    cancelButtonColor: '#d33',
                                                                    confirmButtonText: 'Sí, ¡eliminar!'
                                                                }).then((result) => {
                                                                    if (result.isConfirmed) {
                                                                        deleteRegister([{name: "productosId", value: productosId}]);
                                                                        swal.fire({
                                                                            icon: 'success',
                                                                            title: '¡Registro eliminado!',
                                                                            showConfirmButton: false,
                                                                            timer: 1600
                                                                        });
                                                                    }

                                                                });
                                                            }
        </script>
        <c:if test="#{messagesBean.title != null}">
            <script>
                swal.fire("#{messagesBean.title}", "#{messagesBean.message}", "#{messagesBean.icono}");
            </script>
        </c:if>
    </h:body>
</html>

